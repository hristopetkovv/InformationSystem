<form #editForm="ngForm"
      (ngSubmit)="createApplication()"
      autocomplete="off">
    <h2 class="text-center text-primary"
        style="margin-bottom: 30px;">Add new Application</h2>
    <div class="text-center">
        <div style="display: inline-flex;">
            <div class="form-group">
                <label for="fname">First Name:</label><br>
                <input type="text"
                       class="form-control"
                       name="firstname"
                       [(ngModel)]="application.firstName"
                       #firstname="ngModel"
                       required>
                <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)"
                     class="alert alert-danger">
                    <div *ngIf="firstname.errors.required">
                        First Name is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="fname">Last Name:</label><br>
                <input type="text"
                       class="form-control"
                       name="lastName"
                       [(ngModel)]="application.lastName"
                       #lastName="ngModel"
                       required>
                <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
                     class="alert alert-danger">
                    <div *ngIf="lastName.errors.required">
                        Last Name is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="fname">Street:</label><br>
                <input type="text"
                       class="form-control"
                       name="street"
                       [(ngModel)]="application.street"
                       #street="ngModel"
                       required>
                <div *ngIf="street.invalid && (street.dirty || street.touched)"
                     class="alert alert-danger">
                    <div *ngIf="street.errors.required">
                        Street is required.
                    </div>
                </div>
            </div>
        </div>
        <hr>

        <div style="display: inline-flex;">
            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="fname">City:</label><br>
                <input type="text"
                       class="form-control"
                       name="city"
                       [(ngModel)]="application.city"
                       #city="ngModel"
                       required>
                <div *ngIf="city.invalid && (city.dirty || city.touched)"
                     class="alert alert-danger">
                    <div *ngIf="city.errors.required">
                        City is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="fname">Municipality</label><br>
                <input type="text"
                       class="form-control"
                       name="municipality"
                       [(ngModel)]="application.municipality"
                       #municipality="ngModel"
                       required>
                <div *ngIf="municipality.invalid && (municipality.dirty || municipality.touched)"
                     class="alert alert-danger">
                    <div *ngIf="municipality.errors.required">
                        Municipality is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="fname">Region:</label><br>
                <input type="text"
                       class="form-control"
                       name="region"
                       [(ngModel)]="application.region"
                       #region="ngModel"
                       required>
                <div *ngIf="region.invalid && (region.dirty || region.touched)"
                     class="alert alert-danger">
                    <div *ngIf="region.errors.required">
                        Region is required.
                    </div>
                </div>
            </div>
            <hr>
        </div>

        <div class="form-group col-sm-3"
             style="margin-left: auto; margin-right: auto;">
            <label for="fname">Application Type:</label><br>
            <enum-select [(model)]="application.applicationType"
                         [type]="applicationTypesEnum">>
            </enum-select>
        </div>
        <hr>
    </div>

    <table class="table table-striped table-bordered">
        <tr>
            <h4>Qualifications: </h4>
        </tr>
        <tbody style="display: inline-block;">
            <tr *ngFor="let qualification of qualificationArray; let i = index">
                <td>
                    <label>Qualification Type: </label>
                    <enum-select [(model)]="qualification.typeQualification"
                                 [type]="qualificationTypesEnum">
                    </enum-select>
                </td>
                <td>
                    <label>Start date: </label>
                    <input class="form-control"
                           type="date"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.startDate"
                           name="startDate-{{i}}" />
                </td>
                <td>
                    <label>End date: </label>
                    <input class="form-control"
                           type="date"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.endDate"
                           name="endDate-{{i}}" />
                </td>
                <td>
                    <label>Duration: </label>
                    <input class="form-control"
                           type="number"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.durationDays"
                           name="duration-{{i}}" />
                </td>
                <td>
                    <label>Description: </label>
                    <input class="form-control"
                           type="text"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.description"
                           name="description-{{i}}" />
                </td>
                <td>
                    <button class="btn btn-outline-danger"
                            type="button"
                            (click)="deleteRow(i)">Remove</button>
                </td>
            </tr>
            <td>
                <label>Qualification Type: </label>
                <enum-select [(model)]="qualification.typeQualification"
                             [type]="qualificationTypesEnum">
                </enum-select>
            </td>
            <td>
                <label>Start date: </label>
                <input class="form-control"
                       type="date"
                       id="newAttributeCode"
                       [(ngModel)]="qualification.startDate"
                       name="startdate" />
            </td>
            <td>
                <label>End date: </label>
                <input class="form-control"
                       type="date"
                       id="newAttributeCode"
                       [(ngModel)]="qualification.endDate"
                       name="enddate" />
            </td>
            <td>
                <label>Duration: </label>
                <input class="form-control"
                       type="number"
                       id="newAttributeCode"
                       [(ngModel)]="qualification.durationDays"
                       name="duration" />
            </td>
            <td>
                <label>Description: </label>
                <input class="form-control"
                       type="text"
                       id="newAttributeCode"
                       [(ngModel)]="qualification.description"
                       name="description" />
            </td>
            <td>
                <button class="btn btn-outline-primary btn-sm"
                        type="button"
                        (click)="addRow()">Add qualification</button>
            </td>
        </tbody>
    </table>
    <hr>

    <div class="form-group text-center">
        <button class="btn btn-success mr-2"
                type="submit">Add</button>
        <button class="btn btn-outline-primary mr-2"
                (click)="cancel()"
                type="button">Cancel</button>
    </div>
</form>