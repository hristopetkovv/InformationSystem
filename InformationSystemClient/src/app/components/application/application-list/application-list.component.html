<application-search (search)="getApplications($event)"
                    (clearSearch)="getApplications($event)"></application-search>

<div class="table-responsive">
    <table class="table table-hover table-bordered">
        <thead>
            <tr>
                <th scope="col">First name</th>
                <th scope="col">Last name</th>
                <th scope="col">Municipality</th>
                <th scope="col">Region</th>
                <th scope="col">City</th>
                <th scope="col">Street</th>
                <th scope="col">Status</th>
                <th scope="col"
                    style="width: 370px;">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let application of apllicationsList">
                <td>{{application.firstName}}</td>
                <td>{{application.lastName}}</td>
                <td>{{application.municipality}}</td>
                <td>{{application.region}}</td>
                <td>{{application.city}}</td>
                <td>{{application.street}}</td>
                <td>{{statusTypesEnum[application.status]}}</td>
                <td style="display: inline-flex;">
                    <ng-container *ngIf="userService.isAdmin || userService.isApplicationAuthor(application.userId)">
                        <button type="button"
                                class="btn btn-outline"
                                id="details"
                                style="border-color: #ff7f50; color: #ff7f50; margin-right: 1em;"
                                routerLink="/application/{{application.id}}">Details</button>

                        <button type="button"
                                class="btn btn-outline-danger"
                                id="remove"
                                style="margin-right: 1em;"
                                (click)="removeApplication(application.id)">Remove</button>
                    </ng-container>
                    <ng-container *ngIf="userService.isAdmin == true && application.status == 2">
                        <button type="button"
                                class="btn btn-outline-success"
                                style="margin-right: 1em;"
                                (click)="updateStatus(application, statusTypesEnum.Approved)">Approve</button>
                        <button type="button"
                                class="btn btn-outline-danger"
                                (click)="updateStatus(application, statusTypesEnum.Disapproved)">Disapprove</button>
                    </ng-container>
                    <button *ngIf="userService.isAdmin && (application.status == 
                            3
                            ||
                            application.status== 4
                            )"
                            type="button"
                            class="btn btn-outline-success"
                            (click)="updateStatus(application, statusTypesEnum.Draft)">Make Draft</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div class="text-right"
     style="margin-top: 10px; margin-right: 40px">
    <button class="btn btn-outline"
            style="border-color: #ff7f50; color: #ff7f50;"
            (click)="exportExcel()">
        Export as Excel File
    </button>
</div>