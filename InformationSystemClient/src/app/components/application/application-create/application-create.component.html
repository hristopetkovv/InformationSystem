<form #editForm="ngForm"
      (ngSubmit)="createApplication()"
      autocomplete="off">
    <h2 class="text-center "
        style="margin-bottom: 30px;">{{ 'applicationCreate.title' | translate }}</h2>
    <div class="text-center">
        <div style="display: inline-flex;">
            <div class="form-group">
                <label for="fname">{{ 'applicationTable.firstName' | translate }}:</label><br>
                <input type="text"
                       class="form-control"
                       name="firstname"
                       [(ngModel)]="application.firstName"
                       #firstname="ngModel"
                       required>
                <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)"
                     class="alert alert-danger">
                    <div *ngIf="firstname.errors.required">
                        First Name is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="text">{{ 'applicationTable.lastName' | translate }}:</label><br>
                <input type="text"
                       class="form-control"
                       name="lastName"
                       [(ngModel)]="application.lastName"
                       #lastName="ngModel"
                       required>
                <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
                     class="alert alert-danger">
                    <div *ngIf="lastName.errors.required">
                        Last Name is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="street">{{ 'applicationTable.street' | translate }}:</label><br>
                <input type="text"
                       class="form-control"
                       name="street"
                       [(ngModel)]="application.street"
                       #street="ngModel"
                       required>
                <div *ngIf="street.invalid && (street.dirty || street.touched)"
                     class="alert alert-danger">
                    <div *ngIf="street.errors.required">
                        Street is required.
                    </div>
                </div>
            </div>
        </div>
        <hr>

        <div style="display: inline-flex;">
            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="city">{{ 'applicationTable.city' | translate }}:</label><br>
                <input type="text"
                       class="form-control"
                       name="city"
                       [(ngModel)]="application.city"
                       #city="ngModel"
                       required>
                <div *ngIf="city.invalid && (city.dirty || city.touched)"
                     class="alert alert-danger">
                    <div *ngIf="city.errors.required">
                        City is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="municipality">{{ 'applicationTable.municipality' | translate }}:</label><br>
                <input type="text"
                       class="form-control"
                       name="municipality"
                       [(ngModel)]="application.municipality"
                       #municipality="ngModel"
                       required>
                <div *ngIf="municipality.invalid && (municipality.dirty || municipality.touched)"
                     class="alert alert-danger">
                    <div *ngIf="municipality.errors.required">
                        Municipality is required.
                    </div>
                </div>
            </div>

            <div class="form-group"
                 style="margin-left: 10px;">
                <label for="region">{{ 'applicationTable.region' | translate }}:</label><br>
                <input type="text"
                       class="form-control"
                       name="region"
                       [(ngModel)]="application.region"
                       #region="ngModel"
                       required>
                <div *ngIf="region.invalid && (region.dirty || region.touched)"
                     class="alert alert-danger">
                    <div *ngIf="region.errors.required">
                        Region is required.
                    </div>
                </div>
            </div>
            <hr>
        </div>

        <div class="form-group col-sm-3"
             style="margin-left: auto; margin-right: auto;">
            <label for="fname">{{ 'applicationCreate.type' | translate }}:</label><br>
            <enum-select [(model)]="application.applicationType"
                         [type]="applicationTypesEnum">
            </enum-select>
        </div>
        <hr>
    </div>

    <table class="table table-striped table-bordered">
        <tr>
            <h4>{{'qualificationCreate.title' | translate}}: </h4>
        </tr>
        <tbody style="display: inline-block;">
            <tr *ngFor="let qualification of qualificationArray; let i = index">
                <th>
                    <label style="margin-bottom: 20px;">{{ 'applicationCreate.type' | translate }}: </label>
                    <enum-select [(model)]="qualification.typeQualification"
                                 [type]="qualificationTypesEnum">
                    </enum-select>
                </th>
                <th>
                    <label>{{'qualificationCreate.startDate' | translate}}:</label>
                    <input class="form-control"
                           type="date"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.startDate"
                           name="startDate-{{i}}" />
                </th>
                <th>
                    <label>{{'qualificationCreate.endDate' | translate}}: </label>
                    <input class="form-control"
                           type="date"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.endDate"
                           name="endDate-{{i}}" />
                </th>
                <th>
                    <label>{{'qualificationCreate.duration' | translate}}: </label>
                    <input class="form-control"
                           type="number"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.durationDays"
                           name="duration-{{i}}" />
                </th>
                <th>
                    <label>{{'qualificationCreate.description' | translate}}: </label>
                    <input class="form-control"
                           type="text"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.description"
                           name="description-{{i}}" />
                </th>
                <td>
                    <button class="btn btn-outline-danger"
                            style="margin-top: 40px;"
                            type="button"
                            (click)="deleteRow(i)">{{'buttons.delete' | translate}}</button>
                </td>
            </tr>

            <div style="display: inline-block;">
                <th>
                    <label style="margin-bottom: 20px;">{{ 'applicationCreate.type' | translate }}: </label>
                    <enum-select [(model)]="qualification.typeQualification"
                                 [type]="qualificationTypesEnum">
                    </enum-select>
                </th>
                <th>
                    <label>{{'qualificationCreate.startDate' | translate}}:</label>
                    <input class="form-control"
                           type="date"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.startDate"
                           name="startdate" />
                </th>
                <th>
                    <label>{{'qualificationCreate.endDate' | translate}}:</label>
                    <input class="form-control"
                           type="date"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.endDate"
                           name="enddate" />
                </th>
                <th>
                    <label>{{'qualificationCreate.duration' | translate}}:</label>
                    <input class="form-control"
                           type="number"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.durationDays"
                           name="duration" />
                </th>
                <th>
                    <label>{{'qualificationCreate.description' | translate}}: </label>
                    <input class="form-control"
                           type="text"
                           id="newAttributeCode"
                           [(ngModel)]="qualification.description"
                           name="description" />
                </th>
                <th>
                    <button class="btn btn-outline-primary btn-sm"
                            style="margin-top: 40px; width: 90px; height: 40px;"
                            type="button"
                            (click)="addRow()">{{ 'buttons.add' | translate }}</button>
                </th>
            </div>
        </tbody>
    </table>
    <hr>

    <div class="form-group text-center">
        <button class="btn btn-success mr-2"
                type="submit">{{ 'buttons.add' | translate }}</button>
        <button class="btn btn-outline-primary mr-2"
                (click)="cancel()"
                type="button">{{ 'buttons.cancel' | translate }}</button>
    </div>
</form>